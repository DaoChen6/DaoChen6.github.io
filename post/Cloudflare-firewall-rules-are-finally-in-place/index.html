<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/DaoChen6/img@main/logo1.png">
  <title>CLoudflare防火墙规则【Free计划可用】 | 辰漉博客</title>
  <meta name="author" content="道辰" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="Cloudflare, firewall" />
  
  <meta name="description" content="看到mjj搞了个Cloudflare防火墙规则 似乎很有效果 参照的aws大佬的和欧阳的和 https:&#x2F;&#x2F;github.com&#x2F;XMD0718&#x2F;cloudflare-block-bad-bot-ruleset  规则如下：12345678910111213141516【1】&#x2F;&#x2F;建议允许(cf.client.bot)【2】&#x2F;&#x2F;建议阻止(cf.threat_score gt 2 and not c">
<meta property="og:type" content="article">
<meta property="og:title" content="CLoudflare防火墙规则【Free计划可用】">
<meta property="og:url" content="https://www.ifts.ml/post/Cloudflare-firewall-rules-are-finally-in-place/index.html">
<meta property="og:site_name" content="辰漉博客">
<meta property="og:description" content="看到mjj搞了个Cloudflare防火墙规则 似乎很有效果 参照的aws大佬的和欧阳的和 https:&#x2F;&#x2F;github.com&#x2F;XMD0718&#x2F;cloudflare-block-bad-bot-ruleset  规则如下：12345678910111213141516【1】&#x2F;&#x2F;建议允许(cf.client.bot)【2】&#x2F;&#x2F;建议阻止(cf.threat_score gt 2 and not c">
<meta property="og:locale">
<meta property="og:image" content="https://www.ifts.ml/post/Cloudflare-firewall-rules-are-finally-in-place/https:/s2.loli.net/2022/01/23/41pvFrXiNUnZJIB.png">
<meta property="article:published_time" content="2022-01-23T08:20:48.000Z">
<meta property="article:modified_time" content="2022-01-23T08:55:46.893Z">
<meta property="article:author" content="道辰">
<meta property="article:tag" content="Cloudflare">
<meta property="article:tag" content="firewall">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.ifts.ml/post/Cloudflare-firewall-rules-are-finally-in-place/https:/s2.loli.net/2022/01/23/41pvFrXiNUnZJIB.png">
<meta name="twitter:site" content="@IFLU10">
  
  <!-- 站点验证相关 -->
  
    
      <meta name="google-site-verification" content="google525b70d1a59ec087" />
    
    
    
      <meta name="msvalidate.01" content="3D0CFBD18B4597B497718F1C582C72B2" />
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://unpkg.com/nprogress@0.2.0/nprogress.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://unpkg.com/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('https://cdn.jsdelivr.net/gh/DaoChen6/img@main/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('https://cdn.jsdelivr.net/gh/DaoChen6/img@main/bg.webp');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 5.4.1"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>友情链接</a></li>
                                    
                                
                                    
                                        <li><a target="_blank" rel="noopener" href="https://up.iflu.cf/"><i class="fa fa-tachometer"></i>辰漉云监控</a></li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-link"></i>链接</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://www.iflu.cf">作者博客一</a></li>
                                                    
                                                
                                                    
                                                        <li><a href="https://www.ifts.ml">作者博客二</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">辰漉博客</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>辰漉博客</h2> <br />
                        <span>“大可不必瞭解我，看我笑話就好了。”</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">CLoudflare防火墙规则【Free计划可用】</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2022-01-23</li>
                <li><i class="fa fa-user"></i> 作者 道辰</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~10.03K
                    
                    字
                </li>
                
                    <li id="/post/Cloudflare-firewall-rules-are-finally-in-place/" class="leancloud_visitors" data-flag-title="CLoudflare防火墙规则【Free计划可用】">
                        <i class="fa fa-eye"></i>
                        <span class="leancloud-visitors-count"> </span> 次阅读
                    </li>
                    
                        <li>
                            <i class="fa fa-commenting-o"></i>
                            <span data-xid="/post/Cloudflare-firewall-rules-are-finally-in-place/" class="waline-comment-count"> </span> 条评论
                        </li>
                    
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                本文最后编辑于 <time datetime="1642928146893"></time> 前，其中的内容可能需要更新。
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E5%88%99%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">规则如下：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">配置注意事项：</span></a></li></ol></li></ol>
                </div>
            
            <hr />
            <blockquote>
<p>看到mjj搞了个Cloudflare防火墙规则 似乎很有效果</p>
<p>参照的aws大佬的和欧阳的和 <a target="_blank" rel="noopener" href="https://github.com/XMD0718/cloudflare-block-bad-bot-ruleset">https://github.com/XMD0718/cloudflare-block-bad-bot-ruleset</a></p>
</blockquote>
<h2 id="规则如下："><a href="#规则如下：" class="headerlink" title="规则如下："></a>规则如下：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">【<span class="number">1</span>】<span class="comment">//建议允许</span></span><br><span class="line">(cf.client.bot)</span><br><span class="line"></span><br><span class="line">【<span class="number">2</span>】<span class="comment">//建议阻止</span></span><br><span class="line">(cf.threat_score gt <span class="number">2</span> and not cf.client.bot)</span><br><span class="line"></span><br><span class="line">【<span class="number">3</span>】<span class="comment">//建议质询</span></span><br><span class="line">(ip.geoip.asnum in &#123;10026 10453 11351 11426 11691 12076 1215 1216 1217 12271 12334 12367 12874 12876 12989 131090 131106 131138 131139 131140 131141 131293 131428 131444 131477 131486 131495 132196 132203 132509 132510 132513 132591 132839 133024 133199 133380 133478 133492 133746 133752 133774 133775 133776 133905 133929 134238 134327 134760 134761 134763 134764 134769 134770 134771 134835 134963 135061 135290 135300 135330 135377 135629 137693 137697 137699 137753 137784 137785 137787 137788 137876 137969 138366 138407 138607 138915 138949 138950 138952 138982 138994 139007 139018 139124 139144 139201 139203 139220 139316 139327 139726 139887 140096 140596 14061 140701 140716 140717 140720 140723 140979 141157 14117 141180 14140 142570 14576 14618 149167 15169 16276 16509 16591 16629 17043 174 17428 17707 177453 177549 17788 17789 17790 17791 18013 18228 18403 18450 18599 18734 18978 195 19527 197099 19740 197540 198047 198651 199490 199506 199524 199883 200756 201094 201978 202053 20207 202675 203087 204601 204720 20473 20552 20554 206092 206204 206791 206798 207319 207400 207590 208425 208556 20860 209 211914 212708 213251 213375 21704 21769 21859 21887 22773 22884 23468 23724 23885 23959 23969 24088 24192 24424 24429 24940 2497 25429 25697 25820 25935 25961 26160 262187 263022 263196 263639 263693 264344 264509 26496 265443 265537 266706 267784 26818 269939 270110 27715 28429 28431 28438 28725 29066 2914 29286 29287 29802 30083 30823 31122 31235 31400 31898 32097 32098 3223 32505 3255 32613 3269 328608 3326 3329 34081 34248 34549 3457 3462 34947 35070 35212 35320 35540 35593 35804 35816 35908 35916 3598 36351 36352 36384 36385 36444 36492 36806 37963 37969 38001 38197 38283 38365 38538 38587 38588 38627 39284 394699 395003 395936 395954 395973 398101 40065 40676 40788 41009 41096 41264 41378 4184 4190 42652 42905 43289 43624 43989 45011 45012 45062 45076 45085 45090 45102 45102 45102 45103 45104 45139 45458 45566 45576 45629 45753 45899 45932 4637 46484 46844 4694 47232 47285 4755 4785 4788 47927 48024 48024 4816 4826 48337 4835 48905 49327 49588 49981 50297 50340 5056 50837 51852 52000 52228 52341 53089 54463 54538 54574 54600 54854 54994 55158 55330 55720 55799 55924 55933 55960 55967 55990 55992 56005 56011 5610 56109 5617 56222 57613 577 58073 58199 58461 58466 58519 58543 58563 58593 58772 58773 58774 58775 58776 58844 58854 58862 58879 59019 59028 59048 59050 59051 59052 59053 59054 59055 59067 59077 59374 60068 60592 60631 60798 61154 61317 61348 61577 61853 62044 62240 62468 62785 62904 63018 63023 63075 63288 63314 63545 63612 63620 63631 63655 63677 63678 63679 63727 63728 63729 63835 63838 63888 63916 63949 64050 6471 6584 6830 6876 6877 6939 7029 7224 7303 7489 7552 7684 792 793 794 8068 8069 8070 8071 8074 8075 8100 8220 8560 8881 8987 9009 9299 9312 9370 9534 9678 9952 9984&#125; and not cf.client.bot) or (ip.src in $badip)</span><br><span class="line"></span><br><span class="line">【<span class="number">4</span>】<span class="comment">//建议阻止</span></span><br><span class="line">(http.user_agent contains <span class="string">&quot;fuck&quot;</span>) or (http.user_agent contains <span class="string">&quot;lient&quot;</span> and http.user_agent contains <span class="string">&quot;ttp&quot;</span>) or (http.user_agent contains <span class="string">&quot;java&quot;</span>) or (http.user_agent contains <span class="string">&quot;Joomla&quot;</span>) or (http.user_agent contains <span class="string">&quot;libweb&quot;</span>) or (http.user_agent contains <span class="string">&quot;libwww&quot;</span>) or (http.user_agent contains <span class="string">&quot;PHPCrawl&quot;</span>) or (http.user_agent contains <span class="string">&quot;PyCurl&quot;</span>) or (http.user_agent contains <span class="string">&quot;python&quot;</span>) or (http.user_agent contains <span class="string">&quot;wrk&quot;</span>) or (http.user_agent contains <span class="string">&quot;hey/&quot;</span>) or (http.user_agent contains <span class="string">&quot;Acunetix&quot;</span>) or (http.user_agent contains <span class="string">&quot;apache&quot;</span>) or (http.user_agent contains <span class="string">&quot;BackDoorBot&quot;</span>) or (http.user_agent contains <span class="string">&quot;cobion&quot;</span>) or (http.user_agent contains <span class="string">&quot;masscan&quot;</span>) or (http.user_agent contains <span class="string">&quot;FHscan&quot;</span>) or (http.user_agent contains <span class="string">&quot;scanbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Gscan&quot;</span>) or (http.user_agent contains <span class="string">&quot;Researchscan&quot;</span>) or (http.user_agent contains <span class="string">&quot;WPScan&quot;</span>) or (http.user_agent contains <span class="string">&quot;ScanAlert&quot;</span>) or (http.user_agent contains <span class="string">&quot;Wprecon&quot;</span>) or (http.user_agent contains <span class="string">&quot;virusdie&quot;</span>) or (http.user_agent contains <span class="string">&quot;VoidEYE&quot;</span>) or (http.user_agent contains <span class="string">&quot;WebShag&quot;</span>) or (http.user_agent contains <span class="string">&quot;Zeus&quot;</span>) or (http.user_agent contains <span class="string">&quot;zgrab&quot;</span>) or (http.user_agent contains <span class="string">&quot;zmap&quot;</span>) or (http.user_agent contains <span class="string">&quot;nmap&quot;</span>) or (http.user_agent contains <span class="string">&quot;fimap&quot;</span>) or (http.user_agent contains <span class="string">&quot;ZmEu&quot;</span>) or (http.user_agent contains <span class="string">&quot;ZumBot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Zyborg&quot;</span>) or (http.user_agent contains <span class="string">&quot;attachment&quot;</span>) or (http.user_agent eq <span class="string">&quot;undefined&quot;</span>) or (http.user_agent eq <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">【<span class="number">5</span>】<span class="comment">//建议阻止</span></span><br><span class="line">(http.user_agent contains <span class="string">&quot;Abonti&quot;</span>) or (http.user_agent contains <span class="string">&quot;admantx&quot;</span>) or (http.user_agent contains <span class="string">&quot;aipbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;AllSubmitter&quot;</span>) or (http.user_agent contains <span class="string">&quot;Backlink&quot;</span>) or (http.user_agent contains <span class="string">&quot;backlink&quot;</span>) or (http.user_agent contains <span class="string">&quot;Badass&quot;</span>) or (http.user_agent contains <span class="string">&quot;Bigfoot&quot;</span>) or (http.user_agent contains <span class="string">&quot;blexbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Buddy&quot;</span>) or (http.user_agent contains <span class="string">&quot;CherryPicker&quot;</span>) or (http.user_agent contains <span class="string">&quot;cloudsystemnetwork&quot;</span>) or (http.user_agent contains <span class="string">&quot;cognitiveseo&quot;</span>) or (http.user_agent contains <span class="string">&quot;Collector&quot;</span>) or (http.user_agent contains <span class="string">&quot;cosmos&quot;</span>) or (http.user_agent contains <span class="string">&quot;CrazyWebCrawler&quot;</span>) or (http.user_agent contains <span class="string">&quot;Crescent&quot;</span>) or (http.user_agent contains <span class="string">&quot;Devil&quot;</span>) or (http.user_agent contains <span class="string">&quot;domain&quot;</span> and http.user_agent contains <span class="string">&quot;spider&quot;</span>) or (http.user_agent contains <span class="string">&quot;domain&quot;</span> and http.user_agent contains <span class="string">&quot;stat&quot;</span>) or (http.user_agent contains <span class="string">&quot;domain&quot;</span> and http.user_agent contains <span class="string">&quot;Appender&quot;</span>) or (http.user_agent contains <span class="string">&quot;domain&quot;</span> and http.user_agent contains <span class="string">&quot;Crawler&quot;</span>) or (http.user_agent contains <span class="string">&quot;DittoSpyder&quot;</span>) or (http.user_agent contains <span class="string">&quot;Konqueror&quot;</span>) or (http.user_agent contains <span class="string">&quot;Easou&quot;</span>) or (http.user_agent contains <span class="string">&quot;Yisou&quot;</span>) or (http.user_agent contains <span class="string">&quot;Etao&quot;</span>) or (http.user_agent contains <span class="string">&quot;mail&quot;</span> and http.user_agent contains <span class="string">&quot;olf&quot;</span>) or (http.user_agent contains <span class="string">&quot;mail&quot;</span> and http.user_agent contains <span class="string">&quot;spider&quot;</span>) or (http.user_agent contains <span class="string">&quot;exabot.com&quot;</span>) or (http.user_agent contains <span class="string">&quot;getintent&quot;</span>) or (http.user_agent contains <span class="string">&quot;Grabber&quot;</span>) or (http.user_agent contains <span class="string">&quot;GrabNet&quot;</span>) or (http.user_agent contains <span class="string">&quot;HEADMasterSEO&quot;</span>) or (http.user_agent contains <span class="string">&quot;heritrix&quot;</span>) or (http.user_agent contains <span class="string">&quot;htmlparser&quot;</span>) or (http.user_agent contains <span class="string">&quot;hubspot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Jyxobot&quot;</span>) or (http.user_agent contains <span class="string">&quot;kraken&quot;</span>) or (http.user_agent contains <span class="string">&quot;larbin&quot;</span>) or (http.user_agent contains <span class="string">&quot;ltx71&quot;</span>) or (http.user_agent contains <span class="string">&quot;leiki&quot;</span>) or (http.user_agent contains <span class="string">&quot;LinkScan&quot;</span>) or (http.user_agent contains <span class="string">&quot;Magnet&quot;</span>) or (http.user_agent contains <span class="string">&quot;Mag-Net&quot;</span>) or (http.user_agent contains <span class="string">&quot;Mechanize&quot;</span>) or (http.user_agent contains <span class="string">&quot;MegaIndex&quot;</span>) or (http.user_agent contains <span class="string">&quot;Metasearch&quot;</span>) or (http.user_agent contains <span class="string">&quot;MJ12bot&quot;</span>) or (http.user_agent contains <span class="string">&quot;moz.com&quot;</span>) or (http.user_agent contains <span class="string">&quot;Navroad&quot;</span>) or (http.user_agent contains <span class="string">&quot;Netcraft&quot;</span>) or (http.user_agent contains <span class="string">&quot;niki-bot&quot;</span>) or (http.user_agent contains <span class="string">&quot;NimbleCrawler&quot;</span>) or (http.user_agent contains <span class="string">&quot;Nimbostratus&quot;</span>) or (http.user_agent contains <span class="string">&quot;Ninja&quot;</span>) or (http.user_agent contains <span class="string">&quot;Openfind&quot;</span>) or (http.user_agent contains <span class="string">&quot;Page&quot;</span> and http.user_agent contains <span class="string">&quot;Analyzer&quot;</span>) or (http.user_agent contains <span class="string">&quot;Pixray&quot;</span>) or (http.user_agent contains <span class="string">&quot;probethenet&quot;</span>) or (http.user_agent contains <span class="string">&quot;proximic&quot;</span>) or (http.user_agent contains <span class="string">&quot;psbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;RankActive&quot;</span>) or (http.user_agent contains <span class="string">&quot;RankingBot&quot;</span>) or (http.user_agent contains <span class="string">&quot;RankurBot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Reaper&quot;</span>) or (http.user_agent contains <span class="string">&quot;SalesIntelligent&quot;</span>) or (http.user_agent contains <span class="string">&quot;Semrush&quot;</span>) or (http.user_agent contains <span class="string">&quot;SEOkicks&quot;</span>) or (http.user_agent contains <span class="string">&quot;spbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;SEOstats&quot;</span>) or (http.user_agent contains <span class="string">&quot;Snapbot&quot;</span>) or (http.user_agent contains <span class="string">&quot;Stripper&quot;</span>) or (http.user_agent contains <span class="string">&quot;Siteimprove&quot;</span>) or (http.user_agent contains <span class="string">&quot;sitesell&quot;</span>) or (http.user_agent contains <span class="string">&quot;Siphon&quot;</span>) or (http.user_agent contains <span class="string">&quot;Sucker&quot;</span>) or (http.user_agent contains <span class="string">&quot;TenFourFox&quot;</span>) or (http.user_agent contains <span class="string">&quot;TurnitinBot&quot;</span>) or (http.user_agent contains <span class="string">&quot;trendiction&quot;</span>) or (http.user_agent contains <span class="string">&quot;twingly&quot;</span>) or (http.user_agent contains <span class="string">&quot;VidibleScraper&quot;</span>) or (http.user_agent contains <span class="string">&quot;WebLeacher&quot;</span>) or (http.user_agent contains <span class="string">&quot;WebmasterWorldForum&quot;</span>) or (http.user_agent contains <span class="string">&quot;webmeup&quot;</span>) or (http.user_agent contains <span class="string">&quot;Webster&quot;</span>) or (http.user_agent contains <span class="string">&quot;Widow&quot;</span>) or (http.user_agent contains <span class="string">&quot;Xaldon&quot;</span>) or (http.user_agent contains <span class="string">&quot;Xenu&quot;</span>) or (http.user_agent contains <span class="string">&quot;xtractor&quot;</span>) or (http.user_agent contains <span class="string">&quot;Zermelo&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="配置注意事项："><a href="#配置注意事项：" class="headerlink" title="配置注意事项："></a>配置注意事项：</h3><p>1）第三条<code>【3】</code>需要用到<code>IP列表</code>，下载地址：<a target="_blank" rel="noopener" href="https://hostloc.com/forum.php?mod=attachment&aid=MTUyNTAzfDcwNjg4NDRkfDE2NDI5MjU5ODJ8MzY3MDd8OTYwMTIy">banip.rar</a></p>
<p>2）mjj们对于第一条<code>【1】</code>有争议</p>
<blockquote>
<p><img src="https://s2.loli.net/2022/01/23/u34AQWfnRHD7mLY.png"><img src="https://s2.loli.net/2022/01/23/yp8JOuvIlGK1Qk2.png"></p>
</blockquote>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://www.ifts.ml/post/Cloudflare-firewall-rules-are-finally-in-place/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://www.ifts.ml/post/Cloudflare-firewall-rules-are-finally-in-place/";
            const title         = "「CLoudflare防火墙规则【Free计划可用】」";
            const excerpt       = `
看到mjj搞了个Cloudflare防火墙规则 似乎很有效果
参照的aws大佬的和欧阳的和 https://github.com/XMD0718/cloudflare-block-bad-bot-ruleset

规则如下：1234...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/Cloudflare/" rel="tag">Cloudflare</a>, <a class="tag-none-link" href="/tags/firewall/" rel="tag">firewall</a>
                </div>
                <div class="pull-date">
                <span>最后编辑：2022-01-23</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" CF-blog无服务器博客Logo设置" href="/post/cf-blog-set-logo/">&lt; 上一篇</a>
            </div>
            
            
        </nav>
    
    
        <div id="w-comments" class="post-comments"></div>
<script>
    var load_comm = () => {
        const init = () => {
            new Waline(Object.assign({
                el: '#w-comments',
                path: '/post/Cloudflare-firewall-rules-are-finally-in-place/'
            }, JSON.parse('{"serverURL":"https://comment.iflu.cf/","visitor":true}')));
        }
        if (typeof Waline === 'undefined') {
            const src = 'https://unpkg.com/@waline/client/dist/Waline.min.js';
            $.getScript(src, init);
        } else {
            init();
        }
    };
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://waline.js.org/">comments powered by Waline.</a></noscript>

    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="http://q1.qlogo.cn/g?b=qq&amp;nk=1959947572&amp;s=640" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">“多點自知之明，少点自作多情。”</p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E5%88%99%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">规则如下：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-text">配置注意事项：</span></a></li></ol></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E5%BC%80%E5%8F%91/">在线开发</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E9%BC%93%E6%8D%A3/">在线鼓捣</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E9%BC%93%E6%8D%A3/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E9%BC%93%E6%8D%A3/VPS/">VPS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E9%BC%93%E6%8D%A3/Web/">Web</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9C%A8%E7%BA%BF%E9%BC%93%E6%8D%A3/%E5%85%B6%E4%BB%96/">其他</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BA%94%E7%94%A8%E6%8E%A8%E8%8D%90/">应用推荐</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E6%83%85%E6%84%9F/">生活情感</a><span class="category-list-count">1</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/Cloudflare/" style="font-size: 0.7em;">Cloudflare</a> <a href="/tags/FL-Studio/" style="font-size: 0.6em;">FL Studio</a> <a href="/tags/Linux/" style="font-size: 0.8em;">Linux</a> <a href="/tags/OneDrive/" style="font-size: 0.6em;">OneDrive</a> <a href="/tags/OpenWrt/" style="font-size: 0.6em;">OpenWrt</a> <a href="/tags/SASL/" style="font-size: 0.6em;">SASL</a> <a href="/tags/Telegram/" style="font-size: 0.6em;">Telegram</a> <a href="/tags/V2ray/" style="font-size: 0.6em;">V2ray</a> <a href="/tags/appnode/" style="font-size: 0.6em;">appnode</a> <a href="/tags/blog/" style="font-size: 0.7em;">blog</a> <a href="/tags/caddy/" style="font-size: 0.6em;">caddy</a> <a href="/tags/cloudflare/" style="font-size: 0.7em;">cloudflare</a> <a href="/tags/firewall/" style="font-size: 0.6em;">firewall</a> <a href="/tags/ftp/" style="font-size: 0.6em;">ftp</a> <a href="/tags/icon/" style="font-size: 0.6em;">icon</a> <a href="/tags/php/" style="font-size: 0.6em;">php</a> <a href="/tags/postfix/" style="font-size: 0.6em;">postfix</a> <a href="/tags/shell/" style="font-size: 0.6em;">shell</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/post/Cloudflare-firewall-rules-are-finally-in-place/"><i class="fa  fa-book"></i> CLoudflare防火墙规则【Free计划可用】</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/cf-blog-set-logo/"><i class="fa  fa-book"></i> CF-blog无服务器博客Logo设置</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/alist-bulid-and-caddy-bulid-shell/"><i class="fa  fa-book"></i> alist搭建+caddy反向代理</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/cf-blog-basic-build-tutorial/"><i class="fa  fa-book"></i> CF-blog无服务器博客基础搭建教程</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/vsftpd-directory-limit-chroot-user-isolation-500-error/"><i class="fa  fa-book"></i> vsftpd目录限制chroot（用户隔离）500错误</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        <li><a href="mailto:if@dkif6.onmicrosoft.com"><i class="fa fa-envelope"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://t.me/iiflm"><i class="fa fa-telegram"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://twitter.com/IFLU10"><i class="fa fa-twitter"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://github.com/DaoChen6"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2022 辰漉博客 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 道辰.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <!--a href="https://github.io" target="_blank">Github Pages</a--></li>
                        </div>
                        <div>
                            <li><a target="_blank" rel="noopener" href="https://boringbay.com"><img height="26rem" src="https://boringbay.com/api/badge/www.ifts.ml"></img></a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://unpkg.com/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>


    <script async src="/js/candy.min.js"></script>



    <script defer src="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://unpkg.com/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="6842336127"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>

<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280078308'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1280078308%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

<!-- Extra support for third-party plguins  -->


    </body>
</html>